#12. Вычислить сумму знакопеременного ряда (|х(2n-1)|)/(2n-1)!, где х-матрица ранга к (к и матрица задаются случайным образом),
# n - номер слагаемого. Сумма считается вычисленной, если точность вычислений будет не меньше t знаков после запятой.
# У алгоритма д.б. линейная сложность. Операция умножения –поэлементная. Знак первого слагаемого +.
import numpy as np

def calculate_series_sum(x, t):
    # Инициализация переменных
    term = x
    series_sum = term
    n = 1

    # Цикл для вычисления суммы
    while np.all(np.abs(term) >= 0.1**t):
        n += 1
        term = -x**2 / ((2*n)*(2*n-1)) @ term
        series_sum += np.where(n % 2 == 0, term, -term)

    return np.sum(series_sum)  # Возвращаем сумму всех элементов ряда

# Пример использования
k = 3  # Ранг матрицы
x = np.random.uniform(-1, 1, size=(k, k))
t = 6  # Точность вычислений (количество знаков после запятой)

series_sum = calculate_series_sum(x, t)
print("Сумма знакопеременного ряда:", series_sum)
